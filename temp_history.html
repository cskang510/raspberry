  <html>
  <head>
    <script type="text/javascript"
          src="https://www.google.com/jsapi?autoload={
            'modules':[{
              'name':'visualization',
              'version':'1',
              'packages':['corechart']
            }]
          }"></script>

    <script type="text/javascript">
      google.setOnLoadCallback(drawChart);

      function drawChart() {

        var xhttp = new XMLHttpRequest();
            xhttp.addEventListener("load", buildGraph, false);
            xhttp.open("GET", "https://09gc32h0p8.execute-api.us-west-2.amazonaws.com/prod");
            xhttp.send();

        function buildGraph(evt) {
          var dataReturned = xhttp.response;
          var tempArray = eval('(' + dataReturned + ')');

          var testArray = [];

          var heading = [];
              heading.push('Time');
              heading.push('Temperature');
              heading.push('Humidity');

          testArray.push(heading);

          for (i = 0; i < tempArray.length; i++) {
            newRow = [];
            newRow.push(tempArray[i].readTime);
            newRow.push(Number(tempArray[i].temp));
            newRow.push(Number(tempArray[i].humidity));
            testArray.push(newRow);
          }

          var data = google.visualization.arrayToDataTable(testArray);

          var options = {
            title: 'Sensor Data over Time',
            curveType: 'function',
            legend: { position: 'bottom' }
          };

          var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

          chart.draw(data, options);

        }
      }
    </script>
  </head>
  <body>
    <div id="curve_chart" style="width: 1600px; height: 800px"></div>
  </body>
</html>
